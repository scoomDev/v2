<div class="container-fluid">
  <h1 class="mt-3 mb-5">Listes des catégories</h1>

  <div class="row">
    <div class="col-sm-6">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Nom</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let category of categoriesList">
              <td>{{ category.name }}</td>
              <td>
                <button class="btn btn-sm btn-warning" (click)="edit(category)">
                  <i class="far fa-edit"></i> edit</button>
                <button class="btn btn-sm btn-danger" (click)="delete(category.id)">
                  <i class="far fa-trash-alt"></i> delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-sm-6 card">
      <div class="card-body">

        <h2 *ngIf="!editMode">Ajouter une plateforme</h2>
        <form *ngIf="!editMode" [formGroup]="categoryForm" (ngSubmit)="createCategory()">
          <div class="form-group">
            <label for="name">Nom</label>
            <input type="text" id="name" name="name" formControlName="name" class="form-control">
          </div>
          <button class="btn btn-success" [disabled]="categoryForm.invalid">Ajouter</button>
        </form>

        <h2 *ngIf="editMode" class="text-info">Edition</h2>
        <form *ngIf="editMode" [formGroup]="categoryForm" (ngSubmit)="update()">
          <div class="form-group">
            <label for="name">Nom</label>
            <input type="text" id="name" name="name" formControlName="name" class="form-control">
          </div>
          <button class="btn btn-info" [disabled]="categoryForm.invalid">Mettre à jour</button>
          <button class="btn btn-dark" type="button" (click)="toggleEditMode()">repasser en mode ajout</button>
        </form>

      </div>
    </div>
  </div>
</div>
